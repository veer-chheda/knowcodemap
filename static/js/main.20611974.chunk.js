(this.webpackJsonpcovid19maps=this.webpackJsonpcovid19maps||[]).push([[0],{105:function(t,a,e){"use strict";e.r(a);var o,n=e(0),c=e.n(n),i=e(8),l=e.n(i),s=(e(85),e(86),e(72)),r=e(41),d=e(42),h=e(73),b=e(71),u=(e(87),e(142)),p=e(143),_=e(144),j=e(145),v=e(149),m=e(62),g=e.n(m),f=(e(89),e(90),e(91),e(92),e(93),e(129)),x=e(63),O=e.n(x);e(94);function w(t){var a=Object(f.a)(),e=t.options,n=t.startDirectly;return o||(o=new O.a(e)).addTo(a),n&&o.start(),null}var y,k=e(7),A=e(55),N=(e(95),new A.b({params:{countrycodes:"IN"}}));function U(t){var a=Object(f.a)();return y||(y=new A.a({provider:N,style:"bar",showMarker:!0,searchLabel:"Find a place",marker:{icon:new k.DivIcon({html:'<i class="fa fa-map-marker fa-3x search-marker"></i>'})}}),a.addControl(y)),null}var S=e(14),C=e(130),L=e(6),P=e(133),D=e(134),T=e(147),H=e(150),B=e(136),I=e(137),z=e(135),F=e(138),M=e(139),G=e(140),E=e(141),J=e(148),W=e(50),q=e(146),K=e(64),R=e(2);q.a.addLocale(K);var V=Object(C.a)({avatar:{backgroundColor:W.a[100],color:W.a[600]}}),Q=Object(L.a)((function(t){return{head:{backgroundColor:t.palette.common.black,color:t.palette.common.white},body:{fontSize:14}}}))(P.a),X=Object(L.a)((function(t){return{root:{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover}}}}))(D.a);function Y(t){var a=V(),e=t.onClose,o=t.open,n=t.dataSources,c=function(){e()};return Object(R.jsxs)(T.a,{onClose:c,"aria-labelledby":"simple-dialog-title",open:o,maxWidth:"md",children:[Object(R.jsx)(H.a,{id:"customized-dialog-title",onClose:c,children:"Data Source"}),Object(R.jsxs)(B.a,{children:[Object(R.jsx)(I.a,{component:z.a,children:Object(R.jsxs)(F.a,{className:a.table,"aria-label":"simple table",children:[Object(R.jsx)(M.a,{children:Object(R.jsxs)(X,{children:[Object(R.jsx)(Q,{children:"State or Locality"}),Object(R.jsx)(Q,{children:"Hospitals"}),Object(R.jsx)(Q,{children:"Last updated"}),Object(R.jsx)(Q,{children:"Site"})]})}),Object(R.jsx)(G.a,{children:n.sort((function(t,a){return t.lastUpdatedAt||a.lastUpdatedAt?t.lastUpdatedAt?a.lastUpdatedAt?new Date(a.lastUpdatedAt)-new Date(t.lastUpdatedAt):-1:1:t.stateOrLocality.localeCompare(a.stateOrLocality)})).map((function(t,a){return Object(R.jsxs)(X,{children:[Object(R.jsx)(Q,{component:"th",scope:"row",children:t.stateOrLocality}),Object(R.jsx)(Q,{component:"th",scope:"row",children:t.hospitals.length}),Object(R.jsx)(Q,{component:"th",scope:"row",children:t.lastUpdatedAt?Object(R.jsx)(v.a,{date:new Date(t.lastUpdatedAt)}):"N/A"}),Object(R.jsx)(Q,{component:"th",scope:"row",children:Object(R.jsx)("a",{href:t.source,target:"blank",children:t.source.replace("https://","").replace("http://","")})})]},"ds".concat(a))}))})]})}),Object(R.jsxs)("p",{children:["This site is an open source project created by ",Object(R.jsx)("a",{href:"https://github.com/pgollangi",target:"_blank",children:"pgollangi"}),"."]}),Object(R.jsxs)("p",{children:[" Please feel make changes to this, or add more data sources at ",Object(R.jsx)("a",{href:"https://github.com/covidhospitals/covidhospitals",target:"blank",children:"github.com/covidhospitals/covidhospitals"})]})]}),Object(R.jsx)(E.a,{children:Object(R.jsx)(J.a,{autoFocus:!0,onClick:c,color:"primary",children:"OK"})})]})}function Z(t){var a=c.a.useState(!1),e=Object(S.a)(a,2),o=e[0],n=e[1],i=t.dataSources;return Object(R.jsxs)("div",{className:"leaflet-top leaflet-left ",children:[Object(R.jsx)("div",{className:"leaflet-bar leaflet-control",children:Object(R.jsx)("a",{className:"leaflet-bar-part leaflet-bar-part-single ",href:"https://github.com/covidhospitals/covidhospitals",target:"_blank",title:"Contribute and explore source code",children:Object(R.jsx)("span",{className:"fa fa-github fa-lg"})})}),Object(R.jsxs)("div",{className:"leaflet-bar leaflet-control",children:[Object(R.jsx)("a",{href:"/#",className:"leaflet-bar-part leaflet-bar-part-single ",onClick:function(t){t.preventDefault(),n(!0)},title:"See source of data",children:Object(R.jsx)("span",{className:"fa fa-database fa-lg"})}),Object(R.jsx)(Y,{open:o,onClose:function(t){n(!1)},dataSources:i})]}),Object(R.jsx)("div",{className:"leaflet-bar leaflet-control",children:Object(R.jsx)("a",{className:"leaflet-bar-part leaflet-bar-part-single ",href:"https://github.com/covidhospitals/covidhospitals/issues/new",target:"_blank",title:"Report an issue",children:Object(R.jsx)("span",{className:"fa fa-bug fa-lg"})})})]})}var $=e(58),tt=e.n($),at=e(70);function et(t,a,e,o){return ot.apply(this,arguments)}function ot(){return(ot=Object(at.a)(tt.a.mark((function t(a,e,o,n){return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([fetch(a).then((function(t){return t.json()})),fetch(e).then((function(t){return t.json()}))]).then((function(t){var a,e=Object(S.a)(t,2),c=e[0],i=e[1].map((function(t){var e="".concat(t.hospital_name,"::").concat(t.district),o=c[e];if(o)return(!a||t.last_updated_on>a)&&(a=t.last_updated_on),{name:t.hospital_name,phoneNumber:t.hospital_phone,type:"",lastUpdatedAt:t.last_updated_on,district:t.district,general:{total:t.total_beds_without_oxygen,available:t.available_beds_without_oxygen,occupied:t.total_beds_without_oxygen-t.available_beds_without_oxygen},icu:{total:t.total_icu_beds_with_ventilator,available:t.available_icu_beds_with_ventilator,occupied:t.total_icu_beds_with_ventilator-t.available_icu_beds_with_ventilator},o2:{total:t.total_beds_with_oxygen,available:t.available_beds_with_oxygen,occupied:t.total_beds_with_oxygen-t.available_beds_with_oxygen},location:o}})).filter((function(t){return!!t}));return{stateOrLocality:o,source:n,lastUpdatedAt:a,hospitals:i}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var nt=function(t){Object(h.a)(e,t);var a=Object(b.a)(e);function e(){var t;return Object(r.a)(this,e),(t=a.call(this)).state={allHospitals:[],center:{lat:20.5937,lng:78.9629}},t}return Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=this;[Promise.all([fetch("covidhospitals/datacollector/main/ap/ap-locations.json").then((function(t){return t.json()})),fetch("data/covidaps.com/bed_data.json").then((function(t){return t.json()}))]).then((function(t){var a,e=Object(S.a)(t,2),o=e[0],n=e[1].map((function(t){var e="".concat(t.hospital_name,"::").concat(t.district),n=o[e];if(n)return(!a||t.last_updated_on>a)&&(a=t.last_updated_on),{name:t.hospital_name,phoneNumber:t.hospital_phone,type:"",lastUpdatedAt:t.last_updated_on,district:t.district,general:{total:t.total_beds_without_oxygen,available:t.available_beds_without_oxygen,occupied:t.total_beds_without_oxygen-t.available_beds_without_oxygen},icu:{total:t.total_icu_beds_with_ventilator,available:t.available_icu_beds_with_ventilator,occupied:t.total_icu_beds_with_ventilator-t.available_icu_beds_with_ventilator},o2:{total:t.total_beds_with_oxygen,available:t.available_beds_with_oxygen,occupied:t.total_beds_with_oxygen-t.available_beds_with_oxygen},location:n}})).filter((function(t){return!!t}));return{stateOrLocality:"Andhra Pradesh",source:"https://covidaps.com",lastUpdatedAt:a,hospitals:n}})),Promise.all([fetch("covidhospitals/datacollector/main/ts/ts-locations.json").then((function(t){return t.json()})),fetch("https://covidtelangana.com/data/covidtelangana.com/bed_data.json").then((function(t){return t.json()}))]).then((function(t){var a,e=Object(S.a)(t,2),o=e[0],n=e[1].map((function(t){var e="".concat(t.hospital_name,"::").concat(t.district),n=o[e];if(n)return(!a||t.last_updated_on>a)&&(a=t.last_updated_on),{name:t.hospital_name,phoneNumber:t.hospital_phone,type:"",lastUpdatedAt:t.last_updated_on,district:t.district,general:{total:t.total_beds_without_oxygen,available:t.available_beds_without_oxygen,occupied:t.total_beds_without_oxygen-t.available_beds_without_oxygen},icu:{total:t.total_icu_beds_with_ventilator,available:t.available_icu_beds_with_ventilator,occupied:t.total_icu_beds_with_ventilator-t.available_icu_beds_with_ventilator},o2:{total:t.total_beds_with_oxygen,available:t.available_beds_with_oxygen,occupied:t.total_beds_with_oxygen-t.available_beds_with_oxygen},location:n}})).filter((function(t){return!!t}));return{stateOrLocality:"Telangana",source:"https://covidtelangana.com",lastUpdatedAt:a,hospitals:n}})),fetch("/.netlify/functions/delhi-data-collector").then((function(t){return t.json()})).then((function(t){for(var a=t.hData,e=t.bData,o=[],n=0,c=Object.keys(a);n<c.length;n++){var i=c[n],l=a[i],s=l.location;if(s){var r=s.indexOf("/@"),d=r+2,h=s.substring(d,d+21).split(",");if(!(r<0)){var b={},u={},p={};e.beds[i]&&(b={total:e.beds[i].total,occupied:e.beds[i].occupied,available:e.beds[i].vacant}),e.covid_icu_beds[i]&&(u={total:e.covid_icu_beds[i].total,occupied:e.covid_icu_beds[i].occupied,available:e.covid_icu_beds[i].vacant}),e.oxygen_beds[i]&&(p={total:e.oxygen_beds[i].total,occupied:e.oxygen_beds[i].occupied,available:e.oxygen_beds[i].vacant}),o.push({name:i,type:l.type,phoneNumber:l.contact_numbers,lastUpdatedAt:e.last_updated_at,general:b,o2:p,icu:u,location:{formattedAddress:l.address,link:l.location,latitude:h[0],longitude:h[1]}})}}}return{lastUpdatedAt:e.last_updated_at,stateOrLocality:"Delhi",source:"https://coronabeds.jantasamvad.org",hospitals:o}})),Promise.all([fetch("covidhospitals/datacollector/main/banglore/bangalore-locations.json").then((function(t){return t.json()})),fetch("https://covidbengaluru.com/data/covidbengaluru.com/bed_data.json").then((function(t){return t.json()}))]).then((function(t){var a,e=Object(S.a)(t,2),o=e[0],n=e[1].map((function(t){var e="".concat(t.hospital_name,"::").concat(t.district),n=o[e];if(n)return(!a||t.last_updated_on>a)&&(a=t.last_updated_on),{name:t.hospital_name,phoneNumber:t.hospital_phone,type:"",lastUpdatedAt:t.last_updated_on,district:t.district,general:{total:t.total_beds_without_oxygen,available:t.available_beds_without_oxygen,occupied:t.total_beds_without_oxygen-t.available_beds_without_oxygen},icu:{total:t.total_icu_beds_with_ventilator,available:t.available_icu_beds_with_ventilator,occupied:t.total_icu_beds_with_ventilator-t.available_icu_beds_with_ventilator},o2:{total:t.total_beds_with_oxygen,available:t.available_beds_with_oxygen,occupied:t.total_beds_with_oxygen-t.available_beds_with_oxygen},location:n}})).filter((function(t){return!!t}));return{stateOrLocality:"Bangalore",source:"https://covidbengaluru.com",lastUpdatedAt:a,hospitals:n}})),Promise.all([fetch("covidhospitals/datacollector/main/wb/wb-locations.json").then((function(t){return t.json()})),fetch("data/covidwb.com/bed_data.json").then((function(t){return t.json()}))]).then((function(t){var a,e=Object(S.a)(t,2),o=e[0],n=e[1].map((function(t){var e="".concat(t.hospital_name,"::").concat(t.district),n=o[e];if(n)return(!a||t.last_updated_on>a)&&(a=t.last_updated_on),{name:t.hospital_name,phoneNumber:t.hospital_phone,type:"",lastUpdatedAt:t.last_updated_on,district:t.district,general:{total:t.total_beds_without_oxygen,available:t.available_beds_without_oxygen,occupied:t.total_beds_without_oxygen-t.available_beds_without_oxygen},icu:{total:t.total_icu_beds_with_ventilator,available:t.available_icu_beds_with_ventilator,occupied:t.total_icu_beds_with_ventilator-t.available_icu_beds_with_ventilator},o2:{total:t.total_beds_with_oxygen,available:t.available_beds_with_oxygen,occupied:t.total_beds_with_oxygen-t.available_beds_with_oxygen},location:n}})).filter((function(t){return!!t}));return{stateOrLocality:"West Bengal",source:"https://covidwb.com",lastUpdatedAt:a,hospitals:n}})),et("covidhospitals/datacollector/main/ahmedabad/ahmedabad-locations.json","https://covidamd.com/data/covidamd.com/bed_data.json","Ahmedabad","https://covidamd.com"),et("covidhospitals/datacollector/main/pune/pune-locations.json","data/covidpune.com/bed_data.json","Pune","https://covidpune.com/"),et("covidhospitals/datacollector/main/vadodara/vadodara-locations.json"," https://covidbaroda.com/data/covidbaroda.com/bed_data.json","Vadodara","https://covidbaroda.com/"),et("covidhospitals/datacollector/main/tn/tn-locations.json","https://covidtnadu.com/data/covidtnadu.com/bed_data.json","Tamil Nadu","https://covidtnadu.com/"),et("covidhospitals/datacollector/main/mp/mp-locations.json","https://covidmp.com/data/covidmp.com/bed_data.json","Madhya Pradesh","https://covidmp.com/"),et("covidhospitals/datacollector/main/gandhinagar/gandhinagar-locations.json","https://covidgandhinagar.com/data/covidgandhinagar.com/bed_data.json","Gandhinagar","https://covidgandhinagar.com/"),et("covidhospitals/datacollector/main/nashik/nashik-locations.json","https://covidnashik.com/data/covidnashik.com/bed_data.json","Nashik","https://covidnashik.com/"),et("covidhospitals/datacollector/main/beed/beed-locations.json","https://covidbeed.com/data/covidbeed.com/bed_data.json","Beed","https://covidbeed.com/")].forEach((function(a){a.then((function(a){a&&(a.stateOrLocality=a.stateOrLocality||"Andhra Pradesh",a.source=a.source||"http://dashboard.covid19.ap.gov.in/",a.lastUpdatedAt=a.time||a.lastUpdatedAt,t.setState((function(t){return{allHospitals:[].concat(Object(s.a)(t.allHospitals),[a])}})))}),(function(t){console.log("Error fetching data ",t)}))}))}},{key:"setCenter",value:function(t){this.setState({center:t})}},{key:"mapCreated",value:function(t){t.zoomControl.setPosition("bottomright")}},{key:"onHospitalClick",value:function(t){if(console.log(t),navigator.share){var a={title:"".concat(t.name),text:"".concat(t.name,".\nPhone: ").concat(t.phoneNumber,".\nAddress: ").concat(t.location.formattedAddress,".\nBeds available:- General: ").concat(t.general.available,", ICU: ").concat(t.icu.available,", O2: ").concat(t.o2.available,".\nGet directions: ").concat(t.location.link,"\nMore at: http://covidhospitals.online/"),url:"http://covidhospitals.online/"};navigator.share(a).then((function(){console.log("Thanks for sharing!")})).catch(console.error)}}},{key:"render",value:function(){var t=this,a=this.state.center,e=this.state.allHospitals;return Object(R.jsxs)(u.a,{center:a,zoom:5,whenCreated:this.mapCreated,children:[Object(R.jsx)(p.a,{attribution:'\xa9 <a href="http://osm.org/copyright" target="_blank" rel="noreferrer">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(R.jsx)(p.a,{attribution:'Created by <a href="https://github.com/pgollangi" target="_blank" >github.com/pgollangi</a>',url:"https://github.com/pgollangi"}),Object(R.jsx)(w,{options:{position:"bottomright",flyTo:!0,strings:{title:"Show me where I am"},onActivate:function(){}}},"locate"),Object(R.jsx)(U,{}),Object(R.jsx)(Z,{dataSources:e}),Object(R.jsx)(g.a,{children:e.map((function(a){return a.hospitals.map((function(e,o){return e.location.link=e.location.link||"https://www.google.com/maps/search/?api=1&query=".concat(e.location.latitude,",").concat(e.location.longitude),Object(R.jsx)(_.a,{position:[e.location.latitude,e.location.longitude],children:Object(R.jsx)(j.a,{children:Object(R.jsxs)("table",{children:[Object(R.jsxs)("thead",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{colSpan:"2",children:"Hospital:"}),Object(R.jsxs)("td",{colSpan:"3",children:[e.name," ",Object(R.jsx)("i",{className:"fa fa-share-alt h-share",onClick:function(){return t.onHospitalClick(e)}})]})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{colSpan:"2",children:"Phone:"}),Object(R.jsxs)("td",{colSpan:"3",children:[Object(R.jsx)("i",{className:"fa fa-phone"}),Object(R.jsx)("a",{className:"h-value",href:"tel:".concat(Array.isArray(e.phoneNumber)?e.phoneNumber[0]:e.phoneNumber),target:"_blank",rel:"noreferrer",children:Array.isArray(e.phoneNumber)?e.phoneNumber[0]:e.phoneNumber})]})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{colSpan:"2",children:"Address:"}),Object(R.jsxs)("td",{colSpan:"3",children:[Object(R.jsx)("i",{className:"fa fa-map-marker"}),Object(R.jsx)("span",{className:"h-value",children:e.location.formattedAddress||e.location.streetName+","+e.location.city}),Object(R.jsx)("a",{href:e.location.link,target:"_blank",rel:"noreferrer",children:"(Get Directions)"})]})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{colSpan:"2",children:"LastUpdated:"}),Object(R.jsx)("td",{colSpan:"3",children:e.lastUpdatedAt||a.lastUpdatedAt?Object(R.jsx)(v.a,{date:new Date(e.lastUpdatedAt||a.lastUpdatedAt)}):"N/A"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{colSpan:"2",children:"Beds"}),Object(R.jsx)("th",{children:"Total"}),Object(R.jsx)("th",{children:"Occupied"}),Object(R.jsx)("th",{children:"Available"})]})]}),Object(R.jsxs)("tbody",{children:[Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{colSpan:"2",children:"General"}),Object(R.jsx)("td",{children:e.general.total||"-"}),Object(R.jsx)("td",{children:e.general.occupied||"-"}),Object(R.jsx)("td",{children:e.general.available||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{colSpan:"2",children:"ICU"}),Object(R.jsx)("td",{children:e.icu.total||"-"}),Object(R.jsx)("td",{children:e.icu.occupied||"-"}),Object(R.jsx)("td",{children:e.icu.available||"-"})]}),Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{colSpan:"2",children:"O2"}),Object(R.jsx)("td",{children:e.o2.total||"-"}),Object(R.jsx)("td",{children:e.o2.occupied||"-"}),Object(R.jsx)("td",{children:e.o2.available||"-"})]})]})]})})},"h".concat(o))}))}))})]})}}]),e}(c.a.Component),ct=e(59);ct.a.initialize("UA-196384229-1"),ct.a.pageview(window.location.pathname+window.location.search);var it=function(){return Object(R.jsx)("div",{className:"App",children:Object(R.jsx)(nt,{})})},lt=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,152)).then((function(a){var e=a.getCLS,o=a.getFID,n=a.getFCP,c=a.getLCP,i=a.getTTFB;e(t),o(t),n(t),c(t),i(t)}))};l.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(it,{})}),document.getElementById("root")),lt()},85:function(t,a,e){},86:function(t,a,e){},87:function(t,a,e){}},[[105,1,2]]]);
//# sourceMappingURL=main.20611974.chunk.js.map